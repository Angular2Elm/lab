<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>KISSY Editor Test</title>
<link href="http://github.com/kissyteam/kissy-editor/raw/master/build/theme/base-min.css" rel="stylesheet"/>
<link href="http://github.com/kissyteam/kissy-editor/raw/master/build/theme/google/editor-pkg-min.css" rel="stylesheet" id="theme"/>
<script src="http://github.com/kissyteam/kissy/raw/master/build/kissy-min.js"></script>
</head>
<body>

<h1>KISSY Editor Demo</h1>

<p>
    <label>选择主题：
        <select id="themes">
            <option value="cool">
                taobao - 清爽
            </option>
            <option value="google">
                google
            </option>

        </select></label>
    <script>
        KISSY.ready(function(S) {
            var theme = S.one("#theme"),themes = S.one("#themes");
            themes.val("google");
            themes.on("change", function() {
                var v = themes.val();
                theme.attr("href", "../build/theme/" + v + "/editor-pkg-min.css");
            });
        })
    </script>
</p>
<div style="width: 90%; margin: 0 auto">
    <label for="editor">Editor Instance 1:</label>
    <textarea id="editor" tabindex="1" style="width:100%;height:400px;margin:0 auto;">
        <script>alert(1);</script>
        <p>
            我是虾米音乐
        </p>
        <p>
            111111111111111111111111
            <embed height="33" width="257" allowscriptaccess="never"
                   src="http://www.xiami.com/widget/300122_1806480/singlePlayer.swf"
                   title="Can't+Compare"
                   type="application/x-shockwave-flash"
                   wmode="transparent"/>
            1111111111111111111111
        </p>

        <p>我是音乐：</p>
        <p>
            111111111111111111111
            <object height="37"
                    align=""
                    width="165"
                    codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
                    classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">
                <param
                        value="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/music/niftyplayer.swf?file=http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/music/betty.mp3"
                        name="movie"/>
                <param value="high" name="quality"/>
                <param name="wmode" value="transparent"/>
                <param value="#FFFFFF" name="bgcolor"/>
                <embed height="37"
                       align=""
                       wmode="transparent"
                       width="165"
                       pluginspage="http://www.macromedia.com/go/getflashplayer"
                       swliveconnect="true"
                       type="application/x-shockwave-flash"
                       bgcolor="#FFFFFF"
                       quality="high"
                       src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/music/niftyplayer.swf?file=http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/music/betty.mp3">
                </embed>
            </object>
            1111111111111111
        </p>
        <p> 1 2 3 4 5 6 7 78 <a href="http://www.g.cn">我是google</a> 1 1 1 12234 3 45</p>
        <p>我是段落 <span style="background-color: red;"> 我是段落 我是段落 </span> 我是段落 <img src="http://img05.taobaocdn.com/tps/i5/T117hGXndsXXXXXXXX-15-13.gif"> 我是段落 我是段落 </p>  <p> 我是段落 我是段落 <br></p>
        <p>我是图片 <img style="width: 470px; height: 150px;"
                     src="http://img02.taobaocdn.com/tps/i2/T1xjtKXmtrXXXXXXXX-470-150.jpg"
                     alt=""></p>


        <p>我是视频优酷</p>
        <p>
            11111111111111111111
            <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" height="400" width="480">
                <param name="quality" value="high"/>
                <param name="wmode" value="transparent"/>
                <param name="movie" value="http://player.youku.com/player.php/sid/XMjA0MTgwMjIw/v.swf"/>
                <embed height="400"
                       wmode="transparent"
                       pluginspage="http://www.macromedia.com/go/getflashplayer" quality="high" src="http://player.youku.com/player.php/sid/XMjA0MTgwMjIw/v.swf" type="application/x-shockwave-flash" width="480"/>

            </object>
            1111111111111111111
        </p>

        <p>我是表格，支持右键</p>
        <table style="width: 200px;" border="1" cellpadding="1" cellspacing="1">
            <tbody>
            <tr>
                <td>1</td>
                <td>2</td>
                <td>3 <span>3.1</span> 3.2 <span>3.3</span></td>
            </tr>
            <tr>
                <td>4</td>
                <td>5</td>
                <td>6</td>
            </tr>
            </tbody>
        </table>

        <p>我是段落 <span style="background-color: red;"> 我是段落 我是段落 </span> 我是段落 <img src="http://img05.taobaocdn.com/tps/i5/T117hGXndsXXXXXXXX-15-13.gif"> 我是段落 我是段落 </p>  <p> 我是段落 我是段落 <br></p>

        <p>我是flash：</p>
        <p>
            11111111111111
            <object class="holiday-logo"
                    classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
                    height="68" width="300">
                <param name="movie"
                       value="http://img01.taobaocdn.com/tps/i1/T12MVIXfVNXXXXXXXX.swf"/>
                <param name="wmode" value="transparent"/>
                <object class="holiday-logo"
                        data="http://img01.taobaocdn.com/tps/i1/T12MVIXfVNXXXXXXXX.swf"
                        height="68" name="holiday-logo"
                        type="application/x-shockwave-flash"
                        width="300">
                    <param name="wmode"
                           value="transparent"/>
                    <a href="http://www.taobao.com/"
                       style="height: 43px; margin-left: 56px;" target="_top">
                        淘宝网
                        <img alt="淘宝网" height="110" src="http://www.taobao.com/"
                             title="Taobao.com - 阿里巴巴旗下网站" width="167"/>
                    </a>
                </object>
            </object>
            111111111111
        </p>
        <ul>
            <li> 我是列表1</li>
            <li> 我是列表2
                <ul>
                    <li><p>我是列表2.1</p></li>
                    <li> 我是列表2.2</li>
                    <li> 我是列表2.3</li>
                </ul>
            </li>
            <li> 我是列表3</li>
        </ul>
        <p>1</p>
        <p>2</p>
        <p>3</p>
        <p>4</p>
        <ul>
            <li> 我是列表1</li>
            <li> 我是列表2
                <ul>
                    <li><p>我是列表2.1</p></li>
                    <li> 我是列表2.2</li>
                    <li> 我是列表2.3</li>
                </ul>
            </li>
            <li><p>我是列表3</p></li>
        </ul>

        <p>1</p>
        <p>2</p>
        <p>3</p>
        <p>4</p>
    </textarea>
    <h2>插入图片到编辑器1</h2>
    <div style="border:1px solid #c1c8d1;
background-color:#fafafa;

width:700px;
margin:0 auto;

-moz-box-shadow:2px 2px 0.5em #888888;
-webkit-box-shadow:2px 2px 0.5em #888888;
box-shadow:2px 2px 0.5em #888888;
" id="imgup1">

    </div>
</div>

<div style="width: 60%; margin: 50px auto">
    <label for="editor2">Editor Instance 2:</label>
    <textarea id="editor2" style="width:100%;height:400px;margin:0 auto;"></textarea>
</div>


<script src="http://github.com/yiminghe/kissy-sandbox/raw/master/attribute/attribute.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/editor.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/utils.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/focusmanager.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/definition.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/dtd.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/dom.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/elementpath.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/walker.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/range.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/domiterator.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/selection.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/core/styles.js"></script>

<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/button/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/contextmenu/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/overlay/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/select/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/bubbleview/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/dd/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/progressbar/plugin.js"></script>


<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/htmldataprocessor/htmlparser/htmlparser.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/htmldataprocessor/htmlparser/basicwriter.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/htmldataprocessor/htmlparser/htmlwriter.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/htmldataprocessor/htmlparser/fragment.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/htmldataprocessor/htmlparser/element.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/htmldataprocessor/htmlparser/filter.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/htmldataprocessor/htmlparser/text.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/htmldataprocessor/htmlparser/comment.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/htmldataprocessor/plugin.js"></script>

<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/fakeobjects/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/localStorage/plugin.js"></script>
<!--草稿-->
<script src="http://chengyu.taobao.ali.com/kissy_git/kissy-editor/src/plugins/draft/plugin.js"></script>
<!--源码--->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/sourcearea/plugin.js"></script>
<!--预览-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/preview/plugin.js"></script>
<!--模板-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/templates/plugin.js"></script>
<!--撤销-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/undo/plugin.js"></script>
<!--清除格式-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/removeformat/plugin.js"></script>
<!--字体-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/font/plugin.js"></script>
<!--格式-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/format/plugin.js"></script>
<!--颜色-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/colorsupport/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/forecolor/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/bgcolor/plugin.js"></script>
<!--列表-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/list/plugin.js"></script>
<!--缩进-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/indent/plugin.js"></script>
<!--对齐-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/justify/plugin.js"></script>
<!--链接-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/link/plugin.js"></script>
<!--图像-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/image/plugin.js"></script>
<!--flash-->
<script src="http://chengyu.taobao.ali.com/kissy_git/kissy-editor/src/plugins/flashbridge/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/flashutils/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/flashsupport/plugin.js"></script>
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/flash/plugin.js"></script>
<!--音乐-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/music/plugin.js"></script>
<!--表格-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/table/plugin.js"></script>
<!--表情-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/smiley/plugin.js"></script>
<!--最大化-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/maximize/plugin.js"></script>
<!--路径-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/elementpaths/plugin.js"></script>
<!--捕获粘贴-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/clipboard/plugin.js"></script>
<!--捕获 enter ,shift enter-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/enterkey/plugin.js"></script>
<!--大小调节-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/resize/plugin.js"></script>
<!--分页插入-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/plugins/pagebreak/plugin.js"></script>
<!--
youku,ku6,tudou视频
-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/biz/bangpai/plugins/video/plugin.js"></script>
<!--
xiami 音乐
-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/biz/bangpai/plugins/music/plugin.js"></script>
<!--
xiami 音乐
-->
<script src="http://github.com/kissyteam/kissy-editor/raw/master/src/biz/bangpai/plugins/upload/plugin.js"></script>

<script>
    

    KISSY.use('editor', function() {

        var KE = KISSY.Editor;
        KE.Config.base = "http://chengyu.taobao.ali.com/kissy_git/kissy-editor/src/";

         window.editor = KE("#editor", {

            pluginConfig: {
                "image":{
                    upload:{
                        serverUrl:"/code/upload/upload.jsp",
                        serverParams:{
                        },
                        fileInput:"Filedata"
                    }
                },
                "templates": [
                    {
                        demo: "模板1效果演示html"  ,
                        html: "<div style='border:1px solid red'>模板1效果演示html</div><p></p>"
                    },
                    {
                        demo: "模板2效果演示html",
                        html: "<div style='border:1px solid red'>模板2效果演示html</div>"
                    }
                ],
                "font-size":{
                    items:[
                        {
                            value:"14px",
                            name:"<span style='font-size:14px'>一般</span>  &nbsp; 14px"
                        },
                        {
                            value:"16px",
                            name:"<span style='font-size:16px'>较大</span> &nbsp; 16px"
                        },

                        {
                            value:"20px",
                            name:"<span style='font-size:20px'>特大</span> &nbsp; 20px"
                        }
                    ],
                    width:"100px"
                }
            
            //,"font-family":["song"]
            ,"bangpai-upload":{
                holder:"#imgup1",
                serverUrl:"/code/upload/upload.jsp",
                serverParams:{
                }
            },
            "bangpai-video":{
                urlCfg:[
                    {
                        reg:/tudou\.com/i,
                        url:"http://bangpai.daily.taobao.net/json/getTudouVideo.htm?" +
                                "url=@url@&callback=@callback@"//"&rand=@rand@"
                    }
                ]
            },
            "draft":{
                interval:5,
                limit:10
            }
          }

        }).use("htmldataprocessor,enterkey,clipboard,elementpaths,sourcearea,preview," +
                "templates,separator," +
                "undo,separator,removeformat,font,format,forecolor,bgcolor,separator," +
                "list,indent,justify,separator,link,image,flash,bangpai-video,music,bangpai-music,smiley," +
                "separator,table,resize,draft,bangpai-upload,pagebreak,separator,maximize"
                );


        KE("#editor2", {
            disableObjectResizing:true,
            disableInlineTableEditing:true
        }).use("htmldataprocessor,enterkey,clipboard,undo,font,image,music");
    });

</script>
</body>
</html>