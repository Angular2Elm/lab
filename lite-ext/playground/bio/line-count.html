<!doctype html>
<html>
<head>
<meta charset="gbk" />
<title>peng</title>
</head>
<body>
<textarea style="width:90%;height:300px;" id='t'></textarea>
<br/>
<label>分隔符：<input id='sep' value=":"/></label>
<button id='run'>每行字数统计</button>
<h1>result:</h1>
<div id="re" style="border:1px solid green">

</div>
<script>
    document.getElementById("run").onclick = function() {
        var v=document.getElementById("t").value,sep=document.getElementById("sep").value;
        v=v.split(/\n/);
        var ls=[];
        for(var i=0;i<v.length;i++){
            var c=0,l=v[i];
            l=l.replace(new RegExp(".+?"+sep),"");
            l.replace(/[a-z]/ig,function(){
                c++;
            });
            ls[i]=c;
        }
        i=1;
        var v2 = document.getElementById("t").value.replace(/^/mg,function(){
            var z=i;
            return "<br/>"+(i++)+"(count:"+ls[z-1]+")"+" : ";
        });

        document.getElementById("re").innerHTML=v2;

    };
</script>
</body>
</html>