/*
Copyright 2011, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
(function(f,o,x){var y={mix:function(i,m,r,n){if(!m||!i)return i;if(r===x)r=true;var c,h,k;if(n&&(k=n.length))for(c=0;c<k;c++){h=n[c];if(h in m)if(r||!(h in i))i[h]=m[h]}else for(h in m)if(r||!(h in i))i[h]=m[h];return i}},w=f&&f[o]||{},u=0;f=w.__HOST||(w.__HOST=f||{});o=f[o]=y.mix(w,y,false);o.mix(o,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.7dev",merge:function(){var i={},m,r=arguments.length;for(m=0;m<r;m++)o.mix(i,arguments[m]);return i},augment:function(){var i=
arguments,m=i.length-2,r=i[0],n=i[m],c=i[m+1],h=1;if(!o.isArray(c)){n=c;c=x;m++}if(!o.isBoolean(n)){n=x;m++}for(;h<m;h++)o.mix(r.prototype,i[h].prototype||i[h],n,c);return r},extend:function(i,m,r,n){if(!m||!i)return i;var c=Object.create?function(q,t){return Object.create(q,{constructor:{value:t}})}:function(q,t){function g(){}g.prototype=q;var l=new g;l.constructor=t;return l},h=m.prototype,k;k=c(h,i);i.prototype=o.mix(k,i.prototype);i.superclass=c(h,m);r&&o.mix(k,r);n&&o.mix(i,n);return i},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{}},namespace:function(){var i=arguments,m=i.length,r=null,n,c,h,k=i[m-1]===true&&m--;for(n=0;n<m;n++){h=(""+i[n]).split(".");r=k?f:this;for(c=f[h[0]]===r?1:0;c<h.length;++c)r=r[h[c]]=r[h[c]]||{}}return r},app:function(i,m){var r=o.isString(i),n=r?f[i]||{}:i,c=0,h=o.__APP_INIT_METHODS.length;for(o.mix(n,this,true,o.__APP_MEMBERS);c<h;c++)o[o.__APP_INIT_METHODS[c]].call(n);o.mix(n,o.isFunction(m)?m():m);r&&(f[i]=n);return n},log:function(i,m,r){if(o.Config.debug){if(r)i=
r+": "+i;if(f.console!==x&&console.log)console[m&&console[m]?m:"log"](i)}},error:function(i){if(o.Config.debug)throw i;},guid:function(i){return(i||"")+u++}});o.__init();return o})(this,"KISSY");
(function(f,o){var x=f.__HOST,y=Object.prototype.toString,w=Array.prototype.indexOf,u=Array.prototype.lastIndexOf,i=Array.prototype.filter,m=String.prototype.trim,r=/^\s+|\s+$/g,n={};f.mix(f,{type:function(c){return c==null?String(c):n[y.call(c)]||"object"},isNull:function(c){return c===null},isUndefined:function(c){return c===o},isEmptyObject:function(c){for(var h in c)return false;return true},isPlainObject:function(c){return c&&y.call(c)==="[object Object]"&&"isPrototypeOf"in c},clone:function(c,
h,k){var q=c,t,g,l=k||{};if(c&&((t=f.isArray(c))||f.isPlainObject(c))){if(c["__~ks_cloned"])return l[c["__~ks_cloned"]];c["__~ks_cloned"]=q=f.guid();l[q]=c;if(t)q=h?f.filter(c,h):c.concat();else{q={};for(g in c)if(g!=="__~ks_cloned"&&c.hasOwnProperty(g)&&(!h||h.call(c,c[g],g,c)!==false))q[g]=f.clone(c[g],h,l)}}if(!k){f.each(l,function(p){if(p["__~ks_cloned"])try{delete p["__~ks_cloned"]}catch(a){p["__~ks_cloned"]=o}});l=o}return q},trim:m?function(c){return c==o?"":m.call(c)}:function(c){return c==
o?"":c.toString().replace(r,"")},substitute:function(c,h,k){if(!f.isString(c)||!f.isPlainObject(h))return c;return c.replace(k||/\\?\{([^{}]+)\}/g,function(q,t){if(q.charAt(0)==="\\")return q.slice(1);return h[t]!==o?h[t]:""})},each:function(c,h,k){var q,t=0,g=c.length,l=g===o||f.type(c)==="function";k=k||x;if(l)for(q in c){if(h.call(k,c[q],q,c)===false)break}else for(q=c[0];t<g&&h.call(k,q,t,c)!==false;q=c[++t]);return c},indexOf:w?function(c,h){return w.call(h,c)}:function(c,h){for(var k=0,q=h.length;k<
q;++k)if(h[k]===c)return k;return-1},lastIndexOf:u?function(c,h){return u.call(h,c)}:function(c,h){for(var k=h.length-1;k>=0;k--)if(h[k]===c)break;return k},unique:function(c,h){h&&c.reverse();for(var k=c.slice(),q=0,t,g;q<k.length;){for(g=k[q];(t=f.lastIndexOf(g,k))!==q;)k.splice(t,1);q+=1}h&&k.reverse();return k},inArray:function(c,h){return f.indexOf(c,h)>-1},filter:i?function(c,h,k){return i.call(c,h,k||this)}:function(c,h,k){var q=[];f.each(c,function(t,g,l){if(h.call(k||this,t,g,l))q.push(t)});
return q},now:function(){return(new Date).getTime()}});f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(c,h){n["[object "+c+"]"]=h=c.toLowerCase();f["is"+c]=function(k){return f.type(k)==h}})})(KISSY);
(function(f,o){function x(g){var l=typeof g;return g===null||l!=="object"&&l!=="function"}function y(g){return Array.prototype.slice.call(g)}var w=f.__HOST,u=w.document,i=u.documentElement,m=encodeURIComponent("[]"),r=false,n=[],c=false,h=/^#?([\w-]+)$/,k=/^(\w+)\[\]$/,q=/\S/;f.mix(f,{isWindow:function(g){return f.type(g)==="object"&&"setInterval"in g},makeArray:function(g){if(g===null||g===o)return[];if(f.isArray(g))return g;if(typeof g.length!=="number"||f.isString(g)||f.isFunction(g))return[g];
return y(g)},param:function(g,l){if(!f.isPlainObject(g))return"";l=l||"&";var p=[],a,b;for(a in g){b=g[a];a=encodeURIComponent(a);if(x(b))p.push(a,"=",encodeURIComponent(b+""),l);else if(f.isArray(b)&&b.length)for(var d=0,e=b.length;d<e;++d)x(b[d])&&p.push(a,m+"=",encodeURIComponent(b[d]+""),l)}p.pop();return p.join("")},unparam:function(g,l){if(typeof g!=="string"||(g=f.trim(g)).length===0)return{};for(var p={},a=g.split(l||"&"),b,d,e,j,s=0,v=a.length;s<v;++s){b=a[s].split("=");d=decodeURIComponent(b[0]);
try{e=decodeURIComponent(b[1]||"")}catch(A){e=b[1]||""}if((j=d.match(k))&&j[1]){p[j[1]]=p[j[1]]||[];p[j[1]].push(e)}else p[d]=e}return p},globalEval:function(g){if(g&&q.test(g)){var l=u.getElementsByTagName("head")[0]||i,p=u.createElement("script");p.text=g;l.insertBefore(p,l.firstChild);l.removeChild(p)}},later:function(g,l,p,a,b){l=l||0;a=a||{};var d=g,e=f.makeArray(b),j;if(f.isString(g))d=a[g];d||f.error("method undefined");g=function(){d.apply(a,e)};j=p?setInterval(g,l):setTimeout(g,l);return{id:j,
interval:p,cancel:function(){this.interval?clearInterval(j):clearTimeout(j)}}},ready:function(g){c||this._bindReady();r?g.call(w,this):n.push(g);return this},_bindReady:function(){var g=this,l=u.documentElement.doScroll,p=l?"onreadystatechange":"DOMContentLoaded",a=function(){g._fireReady()};c=true;if(u.readyState==="complete")return a();if(u.addEventListener){var b=function(){u.removeEventListener(p,b,false);a()};u.addEventListener(p,b,false);w.addEventListener("load",a,false)}else{var d=function(){if(u.readyState===
"complete"){u.detachEvent(p,d);a()}};u.attachEvent(p,d);w.attachEvent("onload",a);var e=false;try{e=w.frameElement==null}catch(j){}if(l&&e){var s=function(){try{l("left");a()}catch(v){setTimeout(s,1)}};s()}}},_fireReady:function(){if(!r){r=true;if(n){for(var g,l=0;g=n[l++];)g.call(w,this);n=null}}},available:function(g,l){if((g=(g+"").match(h)[1])&&f.isFunction(l))var p=1,a=f.later(function(){if(u.getElementById(g)&&(l()||1)||++p>500)a.cancel()},40,true)}});try{y(i.childNodes)}catch(t){y=function(g){for(var l=
[],p=g.length-1;p>=0;p--)l[p]=g[p];return l}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)f.Config.debug=true})(KISSY);
(function(f,o){function x(a){a=a.split("/");for(var b=[],d=0;d<a.length;d++){var e=a[d];if(e!=".")e==".."?b.pop():b.push(e)}return b.join("/")}function y(a,b){if(b.lastIndexOf("./")==0||b.lastIndexOf("../")==0){var d="",e;if((e=a.lastIndexOf("/"))!=-1)d=a.substring(0,e+1);return x(d+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?x(b):b}function w(a){return a.replace(/(-min)?\.js[^/]*$/i,"")}function u(a){if(a.charAt(a.length-1)!="/")a+="/";a=f.trim(a);a.match(/^http(s)?:/i)||(a=g+a);return x(a)}
var i=!window.getSelection&&window.ActiveXObject,m=f.__HOST.document,r=m.getElementsByTagName("head")[0]||m.documentElement,n=2,c=3,h=4,k=f.mix,q=m.createElement("script").readyState?function(a,b){var d=a.onreadystatechange;a.onreadystatechange=function(){var e=a.readyState;if(e==="loaded"||e==="complete"){a.onreadystatechange=null;d&&d();b.call(this)}}}:function(a,b){a.addEventListener("load",b,false)},t,g=location.href.replace(/[^/]*$/i,"");t={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,
add:function(a,b,d){var e=this.Env.mods,j;if(f.isString(a)&&!d&&f.isPlainObject(b)){j={};j[a]=b;a=j}if(f.isPlainObject(a)){f.each(a,function(s,v){s.name=v;e[v]&&k(s,e[v],false)});k(e,a)}else if(f.isString(a))this.__registerModule(a,b,d);else if(f.isFunction(a)){d=b;b=a;if(i){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,b,d):f.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();this.__registerModule(a,b,d)}this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={def:b,config:d}}return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),b,d=0;d<a.length;d++){var e=a[d];if(e.readyState=="interactive"){b=e;break}}b||f.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=b.src;if(a.lastIndexOf(this.Config.base,0)==0)return w(a.substring(this.Config.base.length));b=this.__packages;for(var j in b)if(b.hasOwnProperty(j))if(a.lastIndexOf(b[j].path,0)==0)return w(a.substring(b[j].path.length));
f.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,b,d){d=d||{};var e=this.Env.mods,j=e[a]||{};k(j,{name:a,status:n});j.fn&&f.error(a+" is defined more than once");j.def=b;k(e[a]=j,d)},packages:function(){var a=f.makeArray(arguments),b;b=this.__packages=this.__packages||{};for(var d=0;d<a.length;d++){var e=a[d];b[e.name]=e;if(e.path)e.path=u(e.path)}},use:function(a,b){a=a.replace(/\s+/g,"").split(",");var d=this,e,j,s=a.length,v;if(d.__isAttached(a)){e=d.__getModules(a);b&&
b.apply(d,e)}else{for(j=0;j<s&&(e=a[j]);j++)d.__attachModByName(e,function(){if(!v&&d.__isAttached(a)){v=true;var A=d.__getModules(a);b&&b.apply(d,A)}});return d}},__getModules:function(a){var b=[this];a=a||[];for(var d=0;d<a.length;d++)b.push(this.require(a[d]));return b},require:function(a){return(a=this.Env.mods[a])&&a.value},__getPackagePath:function(a){var b=a.name,d,e=this.__packages||{};if((d=b.indexOf("/"))!=-1)b=b.substring(0,d);if(b=e[b]){d=b.path||g;if(d.charAt(d.length-1)!=="/")d+="/";
if(b.charset)a.charset=b.charset;return d}},__attachModByName:function(a,b){var d=this.Env.mods,e=d[a];if(!e){e=this.Config.componentJsName||function(j){return j+"-min.js?t=@TIMESTAMP@"};e={path:f.isFunction(e)?e(a):e,charset:"utf-8"};d[a]=e}e.name=a;e&&e.status===h||this.__attach(e,b)},__attach:function(a,b){function d(){if(!G&&e.__isAttached(a.requires)){a.status===n&&e.__attachMod(a);if(a.status===h){G=true;b()}}}var e=this,j=e.Env.mods,s=(a.requires||[]).concat(),v=0,A=s.length;for(a.requires=
s;v<A;v++){s[v]=y(a.name,s[v]);var z=j[s[v]];z&&z.status===h||e.__attachModByName(s[v],d)}e.__buildPath(a,e.__getPackagePath(a));e.__load(a,function(){if(e.__currentModule){e.__registerModule(a.name,e.__currentModule.def,e.__currentModule.config);e.__currentModule=null}var B=a.requires||[],F=[];a.requires=B;for(var C=B.length-1;C>=0;C--){B[C]=y(a.name,B[C]);var D=B[C],E=j[D],H=f.inArray(D,s);E&&E.status===h||H||e.__attachModByName(D,d);if(!H&&(!E||E.status<n))F.push(D)}F.length!=0&&F.unshift(a.name);
d()});var G=false},__attachMod:function(a){var b=a.def;if(b)a.value=f.isFunction(b)?b.apply(this,this.__getModules(a.requires)):b;a.status=h},__isAttached:function(a){for(var b=this.Env.mods,d,e=(a=f.makeArray(a)).length-1;e>=0;e--){d=b[a[e]]||{};if(d.status!==h)return false}return true},__load:function(a,b){function d(){j[e]=n;if(a.status!==c){if(a.status!==h)a.status=n;b()}}var e=a.fullpath,j=f.Env._loadQueue,s=j[e];a.status=a.status||0;if(a.status<1&&s)a.status=s.nodeName?1:n;if(a.status<1&&e){a.status=
1;if(i){this.__startLoadModuleName=a.name;this.__startLoadTime=Number(+new Date)}s=this.getScript(e,{success:function(){d()},error:function(){a.status=c;j[e]=n},charset:a.charset});j[e]=s}else a.status===1?q(s,d):b()},__buildPath:function(a,b){var d=this.Config;if(!a.fullpath&&a.path)a.fullpath=(b||d.base)+a.path;if(a.fullpath&&d.debug)a.fullpath=a.fullpath.replace(/-min/ig,"")},getScript:function(a,b,d){var e=/\.css(?:\?|$)/i.test(a),j=m.createElement(e?"link":"script"),s=b,v,A,z;if(f.isPlainObject(s)){b=
s.success;v=s.error;A=s.timeout;d=s.charset}if(e){j.href=a;j.rel="stylesheet"}else{j.src=a;j.async=true}if(d)j.charset=d;if(e)f.isFunction(b)&&b.call(j);else q(j,function(){if(z){z.cancel();z=o}f.isFunction(b)&&b.call(j)});if(f.isFunction(v))z=f.later(function(){z=o;v()},(A||this.Config.timeout)*1E3);r.insertBefore(j,r.firstChild);return j}};k(f,t);var l=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,p=/(seed|kissy)(-min)?\.js/i;f.__initLoader=function(){var a=m.getElementsByTagName("script");a=a[a.length-
1];var b=a.src,d=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var e=a[0];d=e.indexOf(d);if(d==-1)b=b.replace(l,"$1");else{b=e.substring(0,d);d=e.substring(d+2,e.length);if(d.match(p))b+=d.replace(l,"$1");else for(d=1;d<a.length;d++){e=a[d];if(e.match(p)){b+=e.replace(l,"$1");break}}}a=b;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=u(a);if(!this.Config.timeout)this.Config.timeout=10};f.__initLoader();f.each(t,function(a,
b){f.__APP_MEMBERS.push(b)});f.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
